<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Kh·∫£o s√°t H·ª©ng th√∫ Ngh·ªÅ nghi·ªáp</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f8fc;
      padding: 20px;
    }
    .container {
      max-width: 900px;
      margin: auto;
      background: #ffffff;
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    h2 {
      text-align: center;
      color: #2c3e50;
    }
    label {
      display: block;
      margin: 15px 0 5px;
      font-weight: bold;
    }
    input[type="text"], textarea, select {
      width: 100%;
      padding: 12px;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 8px;
      background-color: #f9f9f9;
      box-sizing: border-box;
    }
    select {
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
      background-image: url('data:image/svg+xml;utf8,<svg fill="%23666" height="20" viewBox="0 0 24 24" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/></svg>');
      background-repeat: no-repeat;
      background-position: right 12px center;
      background-size: 16px 16px;
    }
    textarea {
      resize: vertical;
      height: 80px;
    }
    button {
      margin-top: 20px;
      padding: 12px 20px;
      background-color: #2980b9;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
    }
    button:hover {
      background-color: #1c5980;
    }
    table {
      margin-top: 30px;
      width: 100%;
      border-collapse: collapse;
      font-size: 14px;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 10px;
      text-align: left;
      vertical-align: top;
    }
    th {
      background-color: #ecf0f1;
    }
    #resultsSection {
      display: none;
      margin-top: 50px;
    }
    #devButton {
      background-color: #27ae60;
      margin-left: auto;
      margin-top: 10px;
    }
    #devButton:hover {
      background-color: #1e8449;
    }
    .dev-btn-wrapper {
      text-align: right;
    }
  </style>
</head>
<body>

  <div class="container">
    <h2>Kh·∫£o s√°t H·ª©ng th√∫ Ngh·ªÅ nghi·ªáp</h2>
    <form id="surveyForm">
      <label for="name">H·ªç v√† t√™n:</label>
      <input type="text" id="name" required>

      <label for="class">L·ªõp:</label>
      <select id="class" required>
        <option value="">-- Ch·ªçn l·ªõp --</option>
        <option value="8/1">8/1</option>
        <option value="8/2">8/2</option>
        <option value="8/3">8/3</option>
        <option value="8/4">8/4</option>
        <option value="8/5">8/5</option>
        <option value="8/6">8/6</option>
        <option value="8/7">8/7</option>
        <option value="8/8">8/8</option>
        <option value="8/9">8/9</option>
        <option value="8/10">8/10</option>
        <option value="8/11">8/11</option>
      </select>

      <label for="interest">B·∫°n c√≥ h·ª©ng th√∫ v·ªõi ngh·ªÅ nghi·ªáp n√†o? V√¨ sao?</label>
      <textarea id="interest" required></textarea>

      <label for="actions">B·∫°n ƒë√£ l√†m nh·ªØng g√¨ ƒë·ªÉ th·ªÉ hi·ªán h·ª©ng th√∫ v·ªõi ngh·ªÅ nghi·ªáp b·∫°n y√™u th√≠ch?</label>
      <textarea id="actions" required></textarea>

      <label for="subject">Trong c√°c m√¥n h·ªçc, b·∫°n th√≠ch nh·∫•t ho·∫∑c h·ªçc t·ªët nh·∫•t m√¥n h·ªçc n√†o?</label>
      <textarea id="subject" required></textarea>

      <label for="activities">B·∫°n th∆∞·ªùng h√†o h·ª©ng, say m√™ v·ªõi nh·ªØng ho·∫°t ƒë·ªông ho·∫∑c c√¥ng vi·ªác n√†o?</label>
      <textarea id="activities" required></textarea>

      <label for="traits">B·∫°n th·∫•y n√©t t√≠nh c√°ch n√†o c·ªßa b·∫°n ph√π h·ª£p v·ªõi ngh·ªÅ nghi·ªáp b·∫°n h·ª©ng th√∫?</label>
      <textarea id="traits" required></textarea>

      <button type="submit">G·ª≠i</button>

      <div class="dev-btn-wrapper">
        <button id="devButton" type="button">üîí D√†nh cho nh√† ph√°t tri·ªÉn</button>
      </div>
    </form>

    <div id="resultsSection">
      <h2>D·ªØ li·ªáu ƒë√£ nh·∫≠n</h2>
      <table id="resultsTable">
        <thead>
          <tr>
            <th>H·ªç t√™n</th>
            <th>L·ªõp</th>
            <th>Ngh·ªÅ nghi·ªáp & l√Ω do</th>
            <th>H√†nh ƒë·ªông th·ªÉ hi·ªán</th>
            <th>M√¥n h·ªçc y√™u th√≠ch</th>
            <th>Ho·∫°t ƒë·ªông say m√™</th>
            <th>T√≠nh c√°ch ph√π h·ª£p</th>
          </tr>
        </thead>
        <tbody>
          <!-- D·ªØ li·ªáu s·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y -->
        </tbody>
      </table>
    </div>
  </div>

  <script>
    const KEY_ACCESS = "To-ba-phat-hanh-tam-4"; // M√£ key b·∫£o m·∫≠t

    document.getElementById('surveyForm').addEventListener('submit', function(e) {
      e.preventDefault();

      const name = document.getElementById('name').value;
      const userClass = document.getElementById('class').value;
      const interest = document.getElementById('interest').value;
      const actions = document.getElementById('actions').value;
      const subject = document.getElementById('subject').value;
      const activities = document.getElementById('activities').value;
      const traits = document.getElementById('traits').value;

      const formData = new URLSearchParams();
      formData.append("name", name);
      formData.append("userClass", userClass);
      formData.append("interest", interest);
      formData.append("actions", actions);
      formData.append("subject", subject);
      formData.append("activities", activities);
      formData.append("traits", traits);

      fetch("https://script.google.com/macros/s/AKfycbzFJCYd_z5fkMmPt3zmdkNPu-gD2MRy4y3mabvQIeDJA22l6GmyFODguBI7ouDihY9i/exec", {
        method: "POST",
        body: formData
      })
      .then(response => {
        if (response.ok) {
          alert("D·ªØ li·ªáu ƒë√£ ƒë∆∞·ª£c g·ª≠i v√† l∆∞u!");
          document.getElementById("surveyForm").reset();
        } else {
          alert("L·ªói khi g·ª≠i d·ªØ li·ªáu!");
        }
      })
      .catch(error => {
        console.error("L·ªói m·∫°ng:", error);
        alert("Kh√¥ng th·ªÉ k·∫øt n·ªëi ƒë·∫øn m√°y ch·ªß.");
      });

      document.getElementById("devButton").addEventListener("click", function() {
        const inputKey = prompt("Vui l√≤ng nh·∫≠p m√£ truy c·∫≠p:");
        if (inputKey === KEY_ACCESS) {
          document.getElementById("resultsSection").style.display = "block";
          alert("Truy c·∫≠p th√†nh c√¥ng!");
        } else {
          alert("M√£ truy c·∫≠p sai!");
        }
      });
    });
  </script>

</body>
</html>
